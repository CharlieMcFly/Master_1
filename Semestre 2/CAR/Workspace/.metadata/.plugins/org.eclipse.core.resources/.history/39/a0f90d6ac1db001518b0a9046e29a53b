package Commande.CommandeImpl;

import static org.mockito.Mockito.mock;

import java.io.File;

import org.junit.Test;
import org.mockito.Mockito;

import Commande.Request;
import Serveur.Session;

public class CDUPTest {

	@Test
	public void test() {
		Session session = mock(Session.class);
		Request req = mock(Request.class);
		File file = mock(File.class);
		
		Mockito.when(file.getParent()).thenReturn("parent");
		Mockito.when(session.getPath()).thenReturn("test");
		Mockito.when(req.getSession()).thenReturn(session);	
		Mockito.when(req.getSession().getPath()).thenReturn("");
		
		CDUP cdup = new CDUP();
		
		cdup.executeTest(req, file);
		
		Mockito.verify(session).setPath("parent");
		Mockito.verify(session).sendCommand("200 CDUP command successfull");
		
	}

}
